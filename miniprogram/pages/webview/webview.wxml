<!--微信小程序 WebView 页面模板-->
<view class="webview-container">
  <!-- 自定义导航栏 -->
  <!--
    <view class="custom-navbar">
      <view class="navbar-left" bindtap="goBack">
        <text class="icon-back">‹</text>
      </view>
      <view class="navbar-title">丁家乐园</view>
      <view class="navbar-right">
        <text class="icon-refresh" bindtap="refreshWebView">↻</text>
      </view>
    </view>
  -->

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">页面加载中...</text>
  </view>

  <!-- 错误状态 -->
  <view wx:if="{{error}}" class="error-container">
    <view class="error-icon">⚠️</view>
    <text class="error-message">{{errorMessage}}</text>
    <button class="retry-button" bindtap="refreshWebView">重试</button>
  </view>

  <!-- WebView 组件 -->
  <web-view 
    wx:if="{{!loading && !error}}"
    src="{{webviewUrl}}"
    bindmessage="handleWebViewMessage"
    binderror="onWebViewError"
    bindload="onWebViewLoad"
    class="webview"
  ></web-view>
</view>
