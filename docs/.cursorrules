# Lago é¡¹ç›® AI Context è§„åˆ™

## âš ï¸ åŒ…ç®¡ç†å™¨è¯´æ˜

**æœ¬é¡¹ç›®ä½¿ç”¨ npm è¿›è¡Œä¾èµ–ç®¡ç†å’Œæ„å»ºï¼Œä¸ä½¿ç”¨ pnpm æˆ– yarnã€‚**

- æ‰€æœ‰å®‰è£…å‘½ä»¤å¿…é¡»ä½¿ç”¨ `npm install` æˆ– `npm install -D`
- æ‰€æœ‰æ„å»ºå‘½ä»¤å¿…é¡»ä½¿ç”¨ `npm run build`
- ä¸è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ `pnpm` æˆ– `yarn` å‘½ä»¤
- å½“ç”¨æˆ·éœ€è¦å®‰è£…ä¾èµ–æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ `npm install`

## ğŸ“š æ ¸å¿ƒæ–‡æ¡£ä½œä¸ºContext

å½“å¤„ç†Lagoé¡¹ç›®çš„ä»»ä½•å¼€å‘é—®é¢˜æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§é˜…è¯»æ–‡æ¡£ï¼š

### 1. å¿…è¯»æ ¸å¿ƒæ–‡æ¡£ (ä¼˜å…ˆçº§ä»é«˜åˆ°ä½)

1. **docs/DEVELOPMENT_GUIDE.md** â­â­â­â­â­
   - æœ€æ ¸å¿ƒçš„å¼€å‘æŒ‡å—
   - åŒ…å«APIå¼€å‘ã€æ•°æ®åº“è¿ç§»ã€æ–‡æ¡£è§„èŒƒ
   - é€‚ç”¨äºæ‰€æœ‰å¼€å‘ä»»åŠ¡

2. **docs/DATABASE_DESIGN.md** â­â­â­â­â­
   - å®Œæ•´çš„æ•°æ®åº“ç»“æ„è¯´æ˜
   - æ•°æ®æ¨¡å‹å’Œå…³ç³»
   - é€‚ç”¨äºæ¶‰åŠæ•°æ®åº“çš„ä»»åŠ¡

3. **docs/ARCHITECTURE.md** â­â­â­â­â­
   - ç³»ç»Ÿæ¶æ„è®¾è®¡
   - æŠ€æœ¯æ ˆå’Œæ¨¡å—åˆ’åˆ†
   - é€‚ç”¨äºæ¶æ„ç›¸å…³é—®é¢˜

4. **docs/FEATURES_BY_PAGE.md** â­â­â­â­â­
   - æŒ‰é¡µé¢ç»„ç»‡çš„åŠŸèƒ½è¯´æ˜
   - APIè°ƒç”¨å’Œç»„ä»¶ä½¿ç”¨
   - é€‚ç”¨äºå…·ä½“é¡µé¢çš„å¼€å‘

5. **docs/DESIGN_SUMMARY.md** â­â­â­
   - UI/UXè®¾è®¡æ€»ç»“
   - é€‚ç”¨äºç•Œé¢ç›¸å…³é—®é¢˜

### 2. æ–‡æ¡£ç»„åˆä½¿ç”¨ç­–ç•¥

æ ¹æ®ä»»åŠ¡ç±»å‹ï¼Œç»„åˆé˜…è¯»ç›¸åº”æ–‡æ¡£ï¼š

| ä»»åŠ¡ç±»å‹ | æ¨èæ–‡æ¡£ç»„åˆ |
|---------|-------------|
| å¼€å‘æ–°API | DEVELOPMENT_GUIDE + DATABASE_DESIGN + ARCHITECTURE |
| å¼€å‘æ–°é¡µé¢ | FEATURES_BY_PAGE + DEVELOPMENT_GUIDE + DESIGN_SUMMARY |
| æ•°æ®åº“è¿ç§» | DATABASE_DESIGN + DEVELOPMENT_GUIDE |
| æ¶æ„é‡æ„ | ARCHITECTURE + DATABASE_DESIGN + FEATURES_BY_PAGE |
| UIä¿®æ”¹ | DESIGN_SUMMARY + FEATURES_BY_PAGE |
| bugä¿®å¤ | FEATURES_BY_PAGE + DATABASE_DESIGN |

## ğŸ¯ å¼€å‘æµç¨‹è§„èŒƒ

### APIå¼€å‘

1. åœ¨`apps/lago-server/src/routes/`å®šä¹‰è·¯ç”±å’ŒSwaggeræè¿°
2. åœ¨`apps/lago-server/src/schemas/`ä½¿ç”¨class-validatorå®šä¹‰éªŒè¯Schema
3. åœ¨`apps/lago-server/src/config/swagger.ts`å®šä¹‰Swaggerç”¨åˆ°çš„å®ä½“å¯¹è±¡ç»“æ„
4. è·å–`http://localhost:3001/api-docs`çš„swagger.jsonæ–‡ä»¶ï¼Œè¿è¡Œ`node scripts/generate-api.js`ç”Ÿæˆå‰ç«¯APIè°ƒç”¨å‡½æ•°å’ŒHooks
5. å‰ç«¯ä½¿ç”¨ç”Ÿæˆçš„APIå‡½æ•°å’ŒHooks

### æ•°æ®åº“å˜æ›´

1. ä¿®æ”¹`apps/lago-server/prisma/schema.prisma`
2. è¿è¡Œ`npx prisma db push`ï¼ˆå¼€å‘ï¼‰æˆ–`npx prisma migrate dev`ï¼ˆç”Ÿäº§ï¼‰
3. åœ¨`src/scripts/seed.ts`ä¸­å¤„ç†å­˜é‡æ•°æ®è¿ç§»å’Œç§å­æ•°æ®æ›´æ–°

### æ–‡æ¡£ç®¡ç†

- ä¸´æ—¶æ€»ç»“: æ”¾åœ¨`docs/WIP/`
- å®Œæˆå: æ›´æ–°æ ¸å¿ƒæ–‡æ¡£ï¼Œæ€»ç»“ç§»è‡³`docs/archived/`
- æµ‹è¯•æ–‡ä»¶: æ”¾åœ¨`test/`

## ğŸš« ç¦æ­¢äº‹é¡¹

- **ä¸è¦ä½¿ç”¨ pnpm æˆ– yarn**ï¼Œå¿…é¡»ä½¿ç”¨ npm
- ä¸è¦ç›´æ¥æ‰§è¡ŒSQLï¼Œæ°¸è¿œä½¿ç”¨Prisma
- ä¸è¦åœ¨æ ¹ç›®å½•åˆ›å»ºæµ‹è¯•æ–‡ä»¶
- ä¸è¦åˆ›å»ºé‡å¤çš„åŠŸèƒ½æ€»ç»“æ–‡æ¡£
- ä¸è¦è·³è¿‡APIç”Ÿæˆæ­¥éª¤

## âœ… æœ€ä½³å®è·µ

- APIæ¥å£å¿…é¡»æœ‰å®Œæ•´çš„Swaggeræ–‡æ¡£
- æ‰€æœ‰ä»£ç å¿…é¡»æœ‰TypeScriptç±»å‹å®šä¹‰
- æ•°æ®åº“å˜æ›´å¿…é¡»é€šè¿‡Prisma Schema
- æ–°åŠŸèƒ½å¿…é¡»æ›´æ–°å¯¹åº”çš„æ ¸å¿ƒæ–‡æ¡£

## ğŸ“‚ é¡¹ç›®å…³é”®è·¯å¾„

```
# åç«¯
apps/lago-server/
â”œâ”€â”€ src/routes/        # APIè·¯ç”±å®šä¹‰ + Swagger
â”œâ”€â”€ src/schemas/       # éªŒè¯Schema (class-validator)
â”œâ”€â”€ src/controllers/   # æ§åˆ¶å™¨
â”œâ”€â”€ src/services/      # ä¸šåŠ¡æœåŠ¡
â”œâ”€â”€ src/config/swagger.ts # Swaggerå®ä½“å¯¹è±¡ç»“æ„
â””â”€â”€ prisma/schema.prisma # æ•°æ®åº“Schema

# å‰ç«¯
apps/lago-web/
â”œâ”€â”€ src/app/          # Next.jsé¡µé¢ (App Router)
â”œâ”€â”€ src/components/   # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ src/lib/apis/     # APIè°ƒç”¨ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â””â”€â”€ scripts/generate-api.js # APIç”Ÿæˆè„šæœ¬

# æ–‡æ¡£
docs/
â”œâ”€â”€ README.md                # æ–‡æ¡£å¯¼èˆª
â”œâ”€â”€ DEVELOPMENT_GUIDE.md     # å¼€å‘æŒ‡å— â­â­â­â­â­
â”œâ”€â”€ ARCHITECTURE.md          # æ¶æ„è®¾è®¡ â­â­â­â­â­
â”œâ”€â”€ DATABASE_DESIGN.md       # æ•°æ®åº“è®¾è®¡ â­â­â­â­â­
â”œâ”€â”€ FEATURES_BY_PAGE.md      # åŠŸèƒ½è¯´æ˜ â­â­â­â­â­
â”œâ”€â”€ PRD.md                    # äº§å“éœ€æ±‚æ–‡æ¡£ â­â­â­â­
â””â”€â”€ DESIGN_SYSTEM.md          # è®¾è®¡ç³»ç»Ÿ â­â­â­
```

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

> **âš ï¸ é‡è¦**: æ‰€æœ‰å‘½ä»¤å¿…é¡»ä½¿ç”¨ **npm**ï¼Œä¸è¦ä½¿ç”¨ pnpm æˆ– yarnã€‚

```bash
# å®‰è£…ä¾èµ–ï¼ˆä½¿ç”¨ npmï¼‰
npm install

# å¯åŠ¨å¼€å‘ï¼ˆä½¿ç”¨ npmï¼‰
npm run dev

# æ•°æ®åº“æ“ä½œ
cd apps/lago-server
npx prisma db push
npx tsx src/scripts/seed.ts
npx prisma studio

# ç”ŸæˆAPI
cd apps/lago-web
node scripts/generate-api.js

# è·å–swagger.json
curl http://localhost:3001/api-docs -o swagger.json
```

## ğŸ“ è®°ä½

- æ ¸å¿ƒæ–‡æ¡£æ˜¯é¡¹ç›®çŸ¥è¯†çš„å”¯ä¸€æ¥æº
- ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
- éµå¾ªæ—¢å®šçš„å¼€å‘æµç¨‹
- æ‰€æœ‰å˜æ›´éƒ½è¦æœ‰æ–‡æ¡£è®°å½•

